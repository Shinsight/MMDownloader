# MMDownloader
마루마루 다운로더 신규 프로젝트

* 해당 프로그램은 HtmlUnit과 Jsoup 라이브러리를 사용하였으며, Apache License 2.0을 따르고 있습니다.
* HtmlUnit : http://htmlunit.sourceforge.net/
* Jsoup : https://jsoup.org/
* 해당 프로그램 및 소스코드는 개인적인 자바 공부를 위하여 작성되었습니다.
* 저작권법을 준수하여야 합니다.
* 다운로드 받은 웹툰은 개인 소장용도로만 이용하여야 하고, 재배포, 판매 등의 행위를 하면 안됩니다.
* 해당 소스코드나 프로그램을 악용하여 발생하는 상황에 대해 어떠한 책임도 지지 않습니다.
* 현재 지원되는 플랫폼은 Windows, Linux 입니다.

사용 방법
* 기존 wasabisyrup 등이 들어간 아카이브 주소만 다운로드 되던 것을 "아무 주소"나 넣어도 다운로드가 가능하게 개선하였습니다.
* 다운로드 경로는 (Windows= C:\Users\사용자\Marumaru\) (Linux= /home/사용자/Marumaru/) 입니다.
* 윈도우의 경우 exe파일을 실행시키면 되고, 리눅스의 경우 java -jar MMDownloader.jar 을 통해 실행시키면 됩니다.
* 리눅스의 경우 nautilus등의 GUI가 지원되어야 폴더열기, 마루마루 사이트 열기 등을 정상적으로 사용할 수 있습니다.

작동과정 중 유의사항
* Jsoup을 이용하여 고속 파싱 시도를 하여 다운로드를 진행합니다. 성공시 평균 1분 이내에 다운로드가 완료됩니다.
* 만일 고속 파싱에 실패하면, HtmlUnit을 이용하여 자바스크립트를 포함하여 페이지를 유닛테스트 개념으로 읽어들인 뒤, 이미지를 다운로드 합니다. 초기 자바스크립트 파싱 과정(=이미지 추출과정)에서 시간이 다소 소요될 수 있습니다.
* 다운로드 속도는 한 편당 최대 5분까지 소요되며, 이는 마루마루 서버 상태와 PC의 네트워크 속도에 제일 큰 영향을 받습니다.

--- ver 0.2.3 ---
* 리눅스 플랫폼 지원
* 마루마루 사이트 오픈 기능 추가
* 기본 다운로드 경로 변경. (Windows= C:\Users\사용자\Marumaru\) (Linux= /home/사용자/Marumaru/)
* 시스템 기능용 패키지(sys) & 클래스(SystemInfo) 별도 생성
* 해당 클래스는 폴더생성&오픈, 마루마루사이트 오픈, 기본경로 등 시스템적 기능 담음
* 버전 출력부 UI 클래스에서 SystemInfo 클래스로 이동

--- ver 0.2.0 ---
* 고속 페이지 파싱 우선 방식 도입 (Jsoup을 이용한 고속 페이지파싱 우선 시도 -> 실패시 HtmlUnit을 이용한 일반 페이지파싱 시도)
* User-Agent를 크롬 모바일(Chrome/30.0.0.0 Mobile)로 변경
* 전역변수 최적화를 통한 재사용성 증가
* 불필요한 메서드 정리

--- ver 0.1.8 ---
* Jsoup을 이용하여 만화제목(title) & 만화 회차(title no)를 구함
* 위의 기능 덕분에 언제나 c:\Marumaru\원피스\원피스 337화\ 와 같이 폴더 생성 가능
* HtmlUnit과 KMP 알고리즘 대신 Jsoup을 이용하여 이미지 url 파싱
* 특수문자 제거 기능 메서드로 추출

--- ver 0.1.7 ---
* Jsoup 라이브러리 추가!
* Jsoup 라이브러리를 이용하여 전체체보기 주소 입력시 개별 만화주소 파싱 알고리즘 변경
* 기존 전권 다운로드 시도시 첫 화만 다운로드 되던 버그 수정
* 다운로드 시도 중 에러 발생시 작업을 전체취소 하는 것이 아닌, 가능한 다음 작업을 찾아서 계속 수행

--- ver 0.1.5 ---
* 만화 업데이트(mangaup) 주소를 넣을 경우 아카이브주소 + 전편 보러가기 주소(marumaru.in/manga/번호)가 같이 들어와서 발생하는 에러 처리

--- ver 0.1.3 ---
* 이미지 다운로드 시도 타임아웃 5분으로 증가(마루마루 사이트의 느린 InputStream을 고려)

--- ver 0.1.2 ---
* 아카이브 주소 파싱 인덱스 오류 수정

--- ver 0.1.1 ---
* 여러편 다운로드시 아카이브 주소가 제대로 파싱되지 않는 문제점 수정

--- ver 0.1.0 ---
* 한 편씩 다운로드 & 여러편 다운로드를 "만화 다운로드" 기능 하나로 합침 -> 프로그램이 알아서 판단하여, 한 편만 있으면 한편만 다운 or 여러편이 있으면 전체 다운로드 진행
* 여러편 다운로드에 한해서 부모폴더생성 지원 ex) C:\Marumaru\원피스\원피스 337화\
* 기존 wasabisyrup 등이 들어간 아카이브 주소만 다운로드 되던 것을 "아무 주소"나 넣어도 다운로드가 가능하게 개선

--- ver 0.0.1 ---
* 한편씩 다운로드 기능 지원
* 다운로드 폴더 열기 기능 지원
